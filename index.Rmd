---
title: "ggplot"
author: "Brian"
date: "11/3/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## ggplot으로 그래프 그리기

데이터

```{r}
library(ggplot2)
midwest
```

점 그래프 

```{r}
library(ggplot2)
ggplot(midwest, aes(x=area, y=poptotal)) + geom_point()
```

점 그래프, 색상 수정 

```{r}
library(ggplot2)
ggplot(midwest, aes(x=area, y=poptotal, color=area)) + geom_point()
```

점 그래프 y축 최소,최대 설정

```{r}
library(ggplot2)
ggplot(midwest, aes(x=area, y=poptotal)) + geom_point() +
  xlim(c(0, 0.1)) + ylim(c(0, 1000000))
```

선 그래프 

```{r}
library(ggplot2)
ggplot(midwest, aes(x=area, y=poptotal)) + geom_line()
```

막대 그래프

```{r}
library(ggplot2)
ggplot(midwest[1:10,], aes(x=county, y=poptotal)) + geom_bar(stat="identity")
```

막대 그래프, 색상 추가

```{r}
library(ggplot2)
ggplot(midwest[1:10,], aes(x=county, y=poptotal, fill=county)) +
  geom_bar(stat="identity")
```

막대 그래프, 회전

```{r}
library(ggplot2)
ggplot(midwest[1:10,], aes(x=county, y=poptotal)) + geom_bar(stat="identity") +
  coord_flip()
```

x, y축 이름 변경

```{r}
library(ggplot2)
ggplot(midwest[1:10,], aes(x=county, y=poptotal)) + geom_bar(stat="identity") +
  labs(title="Population", x="County", y="Population")

```


막대 폭 변경

```{r}
library(ggplot2)
ggplot(midwest[1:10,], aes(x=county, y=poptotal)) + 
  labs(title="Population", x="County", y="Population") +
  geom_bar(stat="identity", width=0.2) 
```


state별로 poptotal 합

```{r message=FALSE}
library(tidyverse)
midwest %>% group_by(state) %>% summarise(all = sum(poptotal)) %>%
  ggplot(aes(x=state,y=all, fill=state)) + geom_bar(stat="identity")
```

범례

```{}
```

다중 선 그래프 

```{}
```


히스토그램 

```{}
```


그룹별 별도 그래프 

점 그래프, state 별로 분리, 세로

```{r}
library(ggplot2)
ggplot(midwest, aes(x=area, y=poptotal, color=area)) + geom_point() +
  facet_grid(state ~ .)
```

점 그래프, state 별로 분리, 가로

```{r}
library(ggplot2)
ggplot(midwest, aes(x=area, y=poptotal, color=area)) + geom_point() +
  facet_grid(. ~ state)
```

Heat map

```{}
```


산포도 

```{}
```

추세도 

```{}
```


## 참고자료

* http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html
* http://www.sthda.com/english/wiki/ggplot2-essentials


